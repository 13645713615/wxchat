version: 3.9
services:
  wxchat:
    build: 
      context: .
      dockerfile: Dockerfile
    environment:
      - TZ=Asia/Shanghai # 时区
      - TOKEN=carroll
      - APPID=wx01f3fc110924d23f
      - APPSECRET=7ebe835ad6680bf3d576c2a20ab68079
      - LOG4JS_LOGPATH=logs
      - GPT_API_KEY=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
      - GPT_ORG_ID=org-ZfsTvKHDodRCkVMbereUk3nA
      - GPT_MODEL=gpt-3.5-turbo
      - GPT_URL=https://xiugouai.top/v1
      - MONGO_DB_URI= mongodb://root:Cai1186684149-@dds-bp1925e2958e3fb41534-pub.mongodb.rds.aliyuncs.com:3717,dds-bp1925e2958e3fb42532-pub.mongodb.rds.aliyuncs.com:3717/admin?replicaSet=mgset-67055713
      - REDIS_HOST=42.192.71.228
      - REDIS_PASSWORD=1186684149
      - COMMON_USER_USE_COUNT=20;
      - VIP_USER_USE_COUNT=100;
      - BAIDU_APP_ID=31519020;
      - BAIDU_API_KEY=dFXxeZHrUSfoT6G2aPXTEtlB;
      - BAIDU_SECRET_KEY="7CdPiq9jthyudrqLQE2Um35O1zyGmMjW"
    ports:
      - 80:80
    stdin_open: true # docker run -i
    tty: true  # docker run -t
    privileged: true #允许容器修改
    volumes:
      - /home/wxchat/logs:/home/nodeapp/logs/